{
  "version": "1",
  "graphs": {
    "clean": {
      "command": "rm -rf packages/*/dist && echo 'ğŸ§¹ Cleaned all build artifacts'",
      "description": "Clean all build artifacts"
    },
    "shared-lib": {
      "command": "echo 'ğŸ“¦ Building shared-lib...' && npx tsc -p packages/shared-lib/tsconfig.json && echo 'âœ“ shared-lib complete'",
      "description": "Build shared library used by all services",
      "inputs": ["packages/shared-lib/src/**/*.ts", "packages/shared-lib/tsconfig.json"],
      "outputs": ["packages/shared-lib/dist/**"]
    },
    "auth-service": {
      "command": "echo 'ğŸ” Building auth-service...' && npx tsc -p packages/auth-service/tsconfig.json && echo 'âœ“ auth-service complete'",
      "deps": ["shared-lib"],
      "description": "Build authentication microservice",
      "inputs": ["packages/auth-service/src/**/*.ts", "packages/auth-service/tsconfig.json"],
      "outputs": ["packages/auth-service/dist/**"]
    },
    "user-service": {
      "command": "echo 'ğŸ‘¤ Building user-service...' && npx tsc -p packages/user-service/tsconfig.json && echo 'âœ“ user-service complete'",
      "deps": ["shared-lib"],
      "description": "Build user management microservice",
      "inputs": ["packages/user-service/src/**/*.ts", "packages/user-service/tsconfig.json"],
      "outputs": ["packages/user-service/dist/**"]
    },
    "api-gateway": {
      "command": "echo 'ğŸŒ Building api-gateway...' && npx tsc -p packages/api-gateway/tsconfig.json && echo 'âœ“ api-gateway complete'",
      "deps": ["auth-service", "user-service"],
      "description": "Build API gateway service",
      "inputs": ["packages/api-gateway/src/**/*.ts", "packages/api-gateway/tsconfig.json"],
      "outputs": ["packages/api-gateway/dist/**"]
    },
    "web-app": {
      "command": "echo 'ğŸš€ Building web-app...' && npx tsc -p packages/web-app/tsconfig.json && echo 'âœ“ web-app complete'",
      "deps": ["api-gateway"],
      "description": "Build web application",
      "inputs": ["packages/web-app/src/**/*.ts", "packages/web-app/tsconfig.json"],
      "outputs": ["packages/web-app/dist/**"]
    },
    "build-all": {
      "command": "echo '' && echo 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' && echo 'âœ“ All packages built successfully!' && echo 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' && echo 'Built: shared-lib, auth-service, user-service, api-gateway, web-app' && echo ''",
      "deps": ["web-app"],
      "description": "Build entire monorepo"
    },
    "start": {
      "command": "node packages/web-app/dist/index.js",
      "deps": ["build-all"],
      "description": "Run the web application after building"
    }
  }
}
