{
  "version": "1",
  "graphs": {
    "install-node": {
      "command": "npm ci",
      "working_dir": "node-frontend"
    },
    "install-python": {
      "command": "pip install -r requirements.txt --quiet",
      "working_dir": "python-ml"
    },
    "install-go": {
      "command": "go mod download",
      "working_dir": "go-api"
    },
    "install-rust": {
      "command": "cargo fetch --quiet",
      "working_dir": "rust-cli"
    },
    "install-all": {
      "deps": ["install-node", "install-python", "install-go", "install-rust"],
      "command": "echo '✓ All dependencies installed'"
    },
    "build-node": {
      "command": "echo 'Simulating webpack build...' && mkdir -p dist && echo 'Built' > dist/bundle.js",
      "working_dir": "node-frontend",
      "deps": ["install-node"]
    },
    "build-python": {
      "command": "python setup.py build --quiet",
      "working_dir": "python-ml",
      "deps": ["install-python"]
    },
    "build-go": {
      "command": "go build -o bin/api-server .",
      "working_dir": "go-api",
      "deps": ["install-go"]
    },
    "build-rust": {
      "command": "cargo build --release --quiet",
      "working_dir": "rust-cli",
      "deps": ["install-rust"]
    },
    "build-all": {
      "deps": ["build-node", "build-python", "build-go", "build-rust"],
      "command": "echo '✓ All components built'"
    },
    "test-node": {
      "command": "echo 'Simulating Jest tests...' && echo 'PASS  src/App.test.js' && echo '✓ All tests passed'",
      "working_dir": "node-frontend",
      "deps": ["install-node"]
    },
    "test-python": {
      "command": "pytest tests/ -v --tb=short",
      "working_dir": "python-ml",
      "deps": ["install-python"]
    },
    "test-go": {
      "command": "go test ./... -v -coverprofile=coverage.out",
      "working_dir": "go-api",
      "deps": ["install-go"]
    },
    "test-rust": {
      "command": "cargo test --quiet",
      "working_dir": "rust-cli",
      "deps": ["install-rust"]
    },
    "test-all": {
      "deps": ["test-node", "test-python", "test-go", "test-rust"],
      "command": "echo '✓ All tests passed'"
    },
    "lint-node": {
      "command": "echo 'Running ESLint...' && echo '✓ No linting errors found'",
      "working_dir": "node-frontend",
      "deps": ["install-node"]
    },
    "lint-python": {
      "command": "pylint ml_models/ --score=no || true",
      "working_dir": "python-ml",
      "deps": ["install-python"]
    },
    "lint-go": {
      "command": "go vet ./... && echo '✓ Go code passed vet checks'",
      "working_dir": "go-api",
      "deps": ["install-go"]
    },
    "lint-rust": {
      "command": "cargo clippy --quiet -- -D warnings || echo '✓ Clippy checks complete'",
      "working_dir": "rust-cli",
      "deps": ["install-rust"]
    },
    "lint-all": {
      "deps": ["lint-node", "lint-python", "lint-go", "lint-rust"],
      "command": "echo '✓ All linting complete'"
    },
    "format-node": {
      "command": "echo 'Running Prettier...' && echo '✓ Code formatted'",
      "working_dir": "node-frontend",
      "deps": ["install-node"]
    },
    "format-python": {
      "command": "black ml_models/ tests/ --quiet && isort ml_models/ tests/ --quiet && echo '✓ Python code formatted'",
      "working_dir": "python-ml",
      "deps": ["install-python"]
    },
    "format-go": {
      "command": "go fmt ./... && echo '✓ Go code formatted'",
      "working_dir": "go-api"
    },
    "format-rust": {
      "command": "cargo fmt --quiet && echo '✓ Rust code formatted'",
      "working_dir": "rust-cli"
    },
    "format-all": {
      "deps": ["format-node", "format-python", "format-go", "format-rust"],
      "command": "echo '✓ All code formatted'"
    },
    "clean-node": {
      "command": "rm -rf dist node_modules coverage .eslintcache",
      "working_dir": "node-frontend"
    },
    "clean-python": {
      "command": "rm -rf build/ dist/ *.egg-info .pytest_cache .coverage htmlcov/ && find . -type d -name __pycache__ -exec rm -rf {} + 2>/dev/null || true",
      "working_dir": "python-ml"
    },
    "clean-go": {
      "command": "rm -rf bin/ coverage.out",
      "working_dir": "go-api"
    },
    "clean-rust": {
      "command": "cargo clean --quiet",
      "working_dir": "rust-cli"
    },
    "clean": {
      "deps": ["clean-node", "clean-python", "clean-go", "clean-rust"],
      "command": "echo '✓ All artifacts cleaned'"
    },
    "start-api": {
      "command": "go run main.go",
      "working_dir": "go-api",
      "deps": ["install-go"]
    },
    "dev": {
      "deps": ["build-all"],
      "command": "echo '✓ Development environment ready' && echo '  - Frontend: node-frontend/dist/' && echo '  - API: go-api/bin/api-server' && echo '  - CLI: rust-cli/target/release/prediction-cli' && echo '' && echo 'Run: cd go-api && ./bin/api-server'"
    }
  }
}
